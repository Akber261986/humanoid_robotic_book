"use strict";(globalThis.webpackChunkhumanoid_robotic_book=globalThis.webpackChunkhumanoid_robotic_book||[]).push([[504],{1391:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var n=s(6540),a=s(781),o=s(4848);const i=function(){const[e,t]=(0,n.useState)([{id:"1",content:"Hello! I'm your Physical AI & Humanoid Robotics book assistant. Ask me anything about the book content!",role:"assistant",timestamp:new Date}]),[s,i]=(0,n.useState)(""),[r,c]=(0,n.useState)(!1),l=(0,n.useRef)(null),d=(0,n.useRef)(null);(0,n.useEffect)(()=>{l.current?.scrollIntoView({behavior:"smooth"})},[e]);const h=async()=>{if(!s.trim()||r)return;const e={id:Date.now().toString(),content:s,role:"user",timestamp:new Date};t(t=>[...t,e]),i(""),c(!0);try{const e=await fetch("https://humanoidroboticbook-production.up.railway.app/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:s,top_k:5})});if(!e.ok)throw new Error(`API request failed with status ${e.status}`);const n=await e.json(),a={id:(Date.now()+1).toString(),content:n.answer,role:"assistant",timestamp:new Date};t(e=>[...e,a])}catch(n){console.error("Error sending message:",n);const e={id:(Date.now()+1).toString(),content:"Sorry, I encountered an error processing your request. Please try again.",role:"assistant",timestamp:new Date};t(t=>[...t,e])}finally{c(!1)}};return(0,n.useEffect)(()=>{const e=()=>{const e=window.getSelection()?.toString().trim();e&&e.length>10&&console.log("Text selected:",e)};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}},[]),(0,o.jsx)(a.A,{title:"Ask the Book",description:"Chat with the Physical AI & Humanoid Robotics book",children:(0,o.jsxs)("div",{className:"chat-container",children:[(0,o.jsxs)("header",{className:"chat-header",children:[(0,o.jsx)("h1",{children:"Ask the Book"}),(0,o.jsx)("p",{children:"Ask questions about the Physical AI & Humanoid Robotics book content"})]}),(0,o.jsxs)("div",{className:"chat-messages",children:[e.map(e=>(0,o.jsxs)("div",{className:`message ${e.role}`,children:[(0,o.jsx)("div",{className:"message-content",children:e.content}),(0,o.jsx)("div",{className:"message-timestamp",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},e.id)),r&&(0,o.jsx)("div",{className:"message assistant",children:(0,o.jsx)("div",{className:"message-content",children:(0,o.jsxs)("div",{className:"typing-indicator",children:[(0,o.jsx)("span",{}),(0,o.jsx)("span",{}),(0,o.jsx)("span",{})]})})}),(0,o.jsx)("div",{ref:l})]}),(0,o.jsxs)("div",{className:"chat-input-area",children:[(0,o.jsxs)("div",{className:"input-container",children:[(0,o.jsx)("textarea",{ref:d,value:s,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),h())},placeholder:"Ask about humanoid robotics, ROS 2, VLA, etc...",rows:1,disabled:r,className:"chat-input"}),(0,o.jsx)("button",{onClick:h,disabled:r||!s.trim(),className:"send-button",children:"Send"})]}),(0,o.jsx)("div",{className:"input-hint",children:"Select text on any page to get explanations about it. Press Enter to send, Shift+Enter for new line."})]})]})})}}}]);