"use strict";(globalThis.webpackChunkhumanoid_robotic_book=globalThis.webpackChunkhumanoid_robotic_book||[]).push([[460],{8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>a});var s=r(6540);const t={},i=s.createContext(t);function o(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(i.Provider,{value:n},e.children)}},9990:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var s=r(4848),t=r(8453);const i={},o="ROS 2 Deployment on Robot Hardware",a={id:"module4/ros2_hardware_deploy",title:"ROS 2 Deployment on Robot Hardware",description:"Overview",source:"@site/docs/module4/ros2_hardware_deploy.md",sourceDirName:"module4",slug:"/module4/ros2_hardware_deploy",permalink:"/humanoid_robotic_book/docs/module4/ros2_hardware_deploy",draft:!1,unlisted:!1,editUrl:"https://github.com/Akber261986/humanoid_robotic_book/edit/main/docs/module4/ros2_hardware_deploy.md",tags:[],version:"current",frontMatter:{}},l={},c=[{value:"Overview",id:"overview",level:2},{value:"Hardware Requirements Assessment",id:"hardware-requirements-assessment",level:2},{value:"Computing Platform Selection",id:"computing-platform-selection",level:3},{value:"Recommended Hardware Platforms",id:"recommended-hardware-platforms",level:3},{value:"High-Performance Platforms",id:"high-performance-platforms",level:4},{value:"Mid-Range Platforms",id:"mid-range-platforms",level:4},{value:"Specialized Platforms",id:"specialized-platforms",level:4},{value:"ROS 2 Installation on Target Hardware",id:"ros-2-installation-on-target-hardware",level:2},{value:"System Preparation",id:"system-preparation",level:3},{value:"Additional Dependencies",id:"additional-dependencies",level:3},{value:"Real-Time Considerations",id:"real-time-considerations",level:2},{value:"Real-Time Kernel",id:"real-time-kernel",level:3},{value:"CPU Isolation",id:"cpu-isolation",level:3},{value:"Real-Time Scheduling",id:"real-time-scheduling",level:3},{value:"Hardware Interface Development",id:"hardware-interface-development",level:2},{value:"Sensor Integration",id:"sensor-integration",level:3},{value:"Actuator Control",id:"actuator-control",level:3},{value:"Safety Systems Integration",id:"safety-systems-integration",level:2},{value:"Emergency Stop Implementation",id:"emergency-stop-implementation",level:3},{value:"Safety Monitor",id:"safety-monitor",level:3},{value:"Deployment Configuration",id:"deployment-configuration",level:2},{value:"Launch Files",id:"launch-files",level:3},{value:"Parameter Files",id:"parameter-files",level:3},{value:"Network Configuration",id:"network-configuration",level:2},{value:"Real-time Network Setup",id:"real-time-network-setup",level:3},{value:"DDS Configuration",id:"dds-configuration",level:3},{value:"Monitoring and Diagnostics",id:"monitoring-and-diagnostics",level:2},{value:"System Monitoring",id:"system-monitoring",level:3},{value:"Logging Configuration",id:"logging-configuration",level:3},{value:"Deployment Best Practices",id:"deployment-best-practices",level:2},{value:"Version Management",id:"version-management",level:3},{value:"Testing Before Deployment",id:"testing-before-deployment",level:3},{value:"Documentation",id:"documentation",level:3},{value:"References",id:"references",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"ros-2-deployment-on-robot-hardware",children:"ROS 2 Deployment on Robot Hardware"}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"Deploying ROS 2-based robotic systems on physical hardware requires careful consideration of hardware constraints, real-time performance requirements, and safety considerations. This chapter provides a comprehensive guide to deploying ROS 2 systems on humanoid robots and other robotic platforms."}),"\n",(0,s.jsx)(n.h2,{id:"hardware-requirements-assessment",children:"Hardware Requirements Assessment"}),"\n",(0,s.jsx)(n.h3,{id:"computing-platform-selection",children:"Computing Platform Selection"}),"\n",(0,s.jsx)(n.p,{children:"When selecting a computing platform for ROS 2 deployment, consider:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Performance Requirements:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"CPU: Multi-core processor for handling multiple ROS 2 nodes"}),"\n",(0,s.jsx)(n.li,{children:"GPU: For AI processing, computer vision, and simulation"}),"\n",(0,s.jsx)(n.li,{children:"RAM: Typically 8GB+ for complex robotic systems"}),"\n",(0,s.jsx)(n.li,{children:"Storage: SSD for fast I/O operations"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Environmental Considerations:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Power consumption for mobile robots"}),"\n",(0,s.jsx)(n.li,{children:"Heat dissipation in enclosed spaces"}),"\n",(0,s.jsx)(n.li,{children:"Vibration resistance for mobile platforms"}),"\n",(0,s.jsx)(n.li,{children:"Operating temperature range"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Connectivity:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Multiple USB ports for sensors and peripherals"}),"\n",(0,s.jsx)(n.li,{children:"Ethernet for high-bandwidth sensor data"}),"\n",(0,s.jsx)(n.li,{children:"WiFi/Bluetooth for communication"}),"\n",(0,s.jsx)(n.li,{children:"Serial interfaces for legacy devices"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"recommended-hardware-platforms",children:"Recommended Hardware Platforms"}),"\n",(0,s.jsx)(n.h4,{id:"high-performance-platforms",children:"High-Performance Platforms"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"NVIDIA Jetson AGX Orin"}),": Excellent for AI workloads with 2048 CUDA cores"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"NVIDIA Jetson Orin NX"}),": Balance of performance and power efficiency"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Custom PC with discrete GPU"}),": Maximum performance for stationary robots"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"mid-range-platforms",children:"Mid-Range Platforms"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"NVIDIA Jetson Orin Nano"}),": Good for moderate AI workloads"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Intel NUC with integrated GPU"}),": x86 compatibility with reasonable performance"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Raspberry Pi 4 (multiple units)"}),": Distributed processing approach"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"specialized-platforms",children:"Specialized Platforms"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Robot computers"}),": Pre-integrated with robotics I/O"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Ruggedized systems"}),": For harsh environments"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Safety-certified platforms"}),": For applications requiring safety certification"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"ros-2-installation-on-target-hardware",children:"ROS 2 Installation on Target Hardware"}),"\n",(0,s.jsx)(n.h3,{id:"system-preparation",children:"System Preparation"}),"\n",(0,s.jsx)(n.p,{children:"Before installing ROS 2, prepare the target system:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Update system packages\nsudo apt update && sudo apt upgrade -y\n\n# Set up locale\nsudo locale-gen en_US.UTF-8\nexport LANG=en_US.UTF-8\n\n# Set up sources.list\nsudo apt install software-properties-common\nsudo add-apt-repository universe\n\n# Add ROS 2 GPG key\nsudo apt update && sudo apt install curl gnupg lsb-release\nsudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key -o /usr/share/keyrings/ros-archive-keyring.gpg\n\n# Add ROS 2 repository\necho "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu $(source /etc/os-release && echo $UBUNTU_CODENAME) main" | sudo tee /etc/apt/sources.list.d/ros2.list > /dev/null\n\n# Install ROS 2 packages\nsudo apt update\nsudo apt install ros-humble-desktop\nsudo apt install python3-rosdep python3-rosinstall python3-rosinstall-generator python3-wstool build-essential\n'})}),"\n",(0,s.jsx)(n.h3,{id:"additional-dependencies",children:"Additional Dependencies"}),"\n",(0,s.jsx)(n.p,{children:"Install hardware-specific dependencies:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Initialize rosdep\nsudo rosdep init\nrosdep update\n\n# Install additional packages for robotics\nsudo apt install ros-humble-ros2-control ros-humble-ros2-controllers\nsudo apt install ros-humble-gazebo-ros2-control\nsudo apt install ros-humble-moveit\nsudo apt install ros-humble-navigation2 ros-humble-nav2-bringup\n"})}),"\n",(0,s.jsx)(n.h2,{id:"real-time-considerations",children:"Real-Time Considerations"}),"\n",(0,s.jsx)(n.h3,{id:"real-time-kernel",children:"Real-Time Kernel"}),"\n",(0,s.jsx)(n.p,{children:"For time-critical applications, consider using a real-time kernel:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Install real-time kernel\nsudo apt install linux-image-rt-generic\n\n# Configure GRUB to default to real-time kernel\nsudo nano /etc/default/grub\n# Add 'quiet splash' to GRUB_CMDLINE_LINUX_DEFAULT\nsudo update-grub\n"})}),"\n",(0,s.jsx)(n.h3,{id:"cpu-isolation",children:"CPU Isolation"}),"\n",(0,s.jsx)(n.p,{children:"Isolate CPUs for real-time ROS 2 nodes:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Add to kernel command line in /etc/default/grub\nGRUB_CMDLINE_LINUX_DEFAULT="quiet splash isolcpus=1,2,3"\nsudo update-grub\n'})}),"\n",(0,s.jsx)(n.h3,{id:"real-time-scheduling",children:"Real-Time Scheduling"}),"\n",(0,s.jsx)(n.p,{children:"Configure real-time scheduling for ROS 2 processes:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Add user to real-time group\nsudo usermod -a -G realtime $USER\n\n# Configure RT limits in /etc/security/limits.conf\necho "$USER soft rtprio 99" | sudo tee -a /etc/security/limits.conf\necho "$USER hard rtprio 99" | sudo tee -a /etc/security/limits.conf\n'})}),"\n",(0,s.jsx)(n.h2,{id:"hardware-interface-development",children:"Hardware Interface Development"}),"\n",(0,s.jsx)(n.h3,{id:"sensor-integration",children:"Sensor Integration"}),"\n",(0,s.jsx)(n.p,{children:"ROS 2 provides standard interfaces for various sensors:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Camera Integration:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:'// Example camera driver node\n#include <rclcpp/rclcpp.hpp>\n#include <sensor_msgs/msg/image.hpp>\n#include <cv_bridge/cv_bridge.h>\n#include <opencv2/opencv.hpp>\n\nclass CameraDriver : public rclcpp::Node\n{\npublic:\n    CameraDriver() : Node("camera_driver")\n    {\n        publisher_ = this->create_publisher<sensor_msgs::msg::Image>("camera/image_raw", 10);\n        timer_ = this->create_wall_timer(\n            std::chrono::milliseconds(33), std::bind(&CameraDriver::capture_frame, this));\n\n        // Initialize camera\n        cap_.open(0); // Open default camera\n    }\n\nprivate:\n    void capture_frame()\n    {\n        cv::Mat frame;\n        cap_ >> frame;\n\n        if (!frame.empty()) {\n            auto msg = cv_bridge::CvImage(std_msgs::msg::Header(), "bgr8", frame).toImageMsg();\n            publisher_->publish(*msg);\n        }\n    }\n\n    rclcpp::Publisher<sensor_msgs::msg::Image>::SharedPtr publisher_;\n    rclcpp::TimerBase::SharedPtr timer_;\n    cv::VideoCapture cap_;\n};\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"LIDAR Integration:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"\x3c!-- In package.xml --\x3e\n<depend>sensor_msgs</depend>\n<depend>laser_geometry</depend>\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:'// LIDAR driver example\n#include <sensor_msgs/msg/laser_scan.hpp>\n\nclass LIDARDriver : public rclcpp::Node\n{\npublic:\n    LIDARDriver() : Node("lidar_driver")\n    {\n        publisher_ = this->create_publisher<sensor_msgs::msg::LaserScan>("scan", 10);\n    }\n\nprivate:\n    rclcpp::Publisher<sensor_msgs::msg::LaserScan>::SharedPtr publisher_;\n};\n'})}),"\n",(0,s.jsx)(n.h3,{id:"actuator-control",children:"Actuator Control"}),"\n",(0,s.jsx)(n.p,{children:"ROS 2 Control framework for hardware interfaces:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Control Configuration:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"# controller_manager.yaml\ncontroller_manager:\n  ros__parameters:\n    update_rate: 100  # Hz\n\n    joint_state_broadcaster:\n      type: joint_state_broadcaster/JointStateBroadcaster\n\n    position_trajectory_controller:\n      type: position_controllers/JointTrajectoryController\n\nposition_trajectory_controller:\n  ros__parameters:\n    joints:\n      - joint1\n      - joint2\n      - joint3\n    command_interfaces:\n      - position\n    state_interfaces:\n      - position\n      - velocity\n"})}),"\n",(0,s.jsx)(n.h2,{id:"safety-systems-integration",children:"Safety Systems Integration"}),"\n",(0,s.jsx)(n.h3,{id:"emergency-stop-implementation",children:"Emergency Stop Implementation"}),"\n",(0,s.jsx)(n.p,{children:"Critical safety systems must be implemented both in software and hardware:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:'// Emergency stop node\nclass EmergencyStop : public rclcpp::Node\n{\npublic:\n    EmergencyStop() : Node("emergency_stop")\n    {\n        // Subscribe to emergency stop topic\n        estop_sub_ = this->create_subscription<std_msgs::msg::Bool>(\n            "emergency_stop", 1,\n            std::bind(&EmergencyStop::estop_callback, this, std::placeholders::_1));\n\n        // Create service to reset emergency stop\n        reset_service_ = this->create_service<std_srvs::srv::Trigger>(\n            "reset_emergency_stop",\n            std::bind(&EmergencyStop::reset_callback, this, std::placeholders::_1, std::placeholders::_2));\n    }\n\nprivate:\n    void estop_callback(const std_msgs::msg::Bool::SharedPtr msg)\n    {\n        if (msg->data) {\n            // Stop all robot motion\n            stop_all_controllers();\n        }\n    }\n\n    rclcpp::Subscription<std_msgs::msg::Bool>::SharedPtr estop_sub_;\n    rclcpp::Service<std_srvs::srv::Trigger>::SharedPtr reset_service_;\n};\n'})}),"\n",(0,s.jsx)(n.h3,{id:"safety-monitor",children:"Safety Monitor"}),"\n",(0,s.jsx)(n.p,{children:"Implement a safety monitor node that watches system state:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:'// Safety monitor node\nclass SafetyMonitor : public rclcpp::Node\n{\npublic:\n    SafetyMonitor() : Node("safety_monitor")\n    {\n        // Subscribe to relevant topics\n        joint_state_sub_ = this->create_subscription<sensor_msgs::msg::JointState>(\n            "joint_states", 10,\n            std::bind(&SafetyMonitor::joint_state_callback, this, std::placeholders::_1));\n\n        // Timer for periodic safety checks\n        timer_ = this->create_wall_timer(\n            std::chrono::milliseconds(100), std::bind(&SafetyMonitor::check_safety, this));\n    }\n\nprivate:\n    void joint_state_callback(const sensor_msgs::msg::JointState::SharedPtr msg)\n    {\n        // Store joint states for safety checks\n        current_joint_states_ = *msg;\n    }\n\n    void check_safety()\n    {\n        // Check for dangerous conditions\n        for (size_t i = 0; i < current_joint_states_.position.size(); ++i) {\n            if (std::abs(current_joint_states_.velocity[i]) > MAX_VELOCITY) {\n                RCLCPP_WARN(this->get_logger(), "Joint %zu velocity exceeded limit", i);\n                // Trigger safety action\n            }\n        }\n    }\n\n    rclcpp::Subscription<sensor_msgs::msg::JointState>::SharedPtr joint_state_sub_;\n    rclcpp::TimerBase::SharedPtr timer_;\n    sensor_msgs::msg::JointState current_joint_states_;\n    static constexpr double MAX_VELOCITY = 5.0; // rad/s\n};\n'})}),"\n",(0,s.jsx)(n.h2,{id:"deployment-configuration",children:"Deployment Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"launch-files",children:"Launch Files"}),"\n",(0,s.jsx)(n.p,{children:"Create launch files for hardware-specific deployments:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# hardware_launch.py\nfrom launch import LaunchDescription\nfrom launch.actions import DeclareLaunchArgument\nfrom launch.substitutions import LaunchConfiguration\nfrom launch_ros.actions import Node\nfrom ament_index_python.packages import get_package_share_directory\nimport os\n\ndef generate_launch_description():\n    # Declare launch arguments\n    use_sim_time = LaunchConfiguration('use_sim_time', default='false')\n\n    # Camera driver node\n    camera_node = Node(\n        package='v4l2_camera',\n        executable='v4l2_camera_node',\n        parameters=[{\n            'video_device': '/dev/video0',\n            'image_size': [640, 480],\n            'camera_frame_id': 'camera_link'\n        }],\n        condition=LaunchConfigurationEquals('use_camera', 'true')\n    )\n\n    # Joint state publisher\n    joint_state_publisher = Node(\n        package='joint_state_publisher',\n        executable='joint_state_publisher',\n        parameters=[{\n            'use_sim_time': use_sim_time\n        }]\n    )\n\n    # Robot state publisher\n    robot_state_publisher = Node(\n        package='robot_state_publisher',\n        executable='robot_state_publisher',\n        parameters=[{\n            'use_sim_time': use_sim_time,\n            'robot_description': open(os.path.join(\n                get_package_share_directory('my_robot_description'),\n                'urdf', 'my_robot.urdf'\n            )).read()\n        }]\n    )\n\n    return LaunchDescription([\n        DeclareLaunchArgument('use_sim_time', default_value='false'),\n        DeclareLaunchArgument('use_camera', default_value='true'),\n        camera_node,\n        joint_state_publisher,\n        robot_state_publisher\n    ])\n"})}),"\n",(0,s.jsx)(n.h3,{id:"parameter-files",children:"Parameter Files"}),"\n",(0,s.jsx)(n.p,{children:"Use YAML parameter files for hardware-specific configurations:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"# config/hardware_params.yaml\n/**:\n  ros__parameters:\n    # Hardware-specific parameters\n    hardware:\n      loop_rate: 100\n      timeout: 0.1\n      max_velocity: 1.0\n      max_effort: 100.0\n\n    # Sensor parameters\n    sensors:\n      camera:\n        exposure: -6\n        gain: 1.0\n        white_balance: 4000\n      imu:\n        rate: 100\n\n    # Control parameters\n    controllers:\n      position:\n        kp: 10.0\n        ki: 0.1\n        kd: 0.05\n"})}),"\n",(0,s.jsx)(n.h2,{id:"network-configuration",children:"Network Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"real-time-network-setup",children:"Real-time Network Setup"}),"\n",(0,s.jsx)(n.p,{children:"For distributed robotic systems, configure network for real-time performance:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Optimize network settings in /etc/sysctl.conf\nnet.core.rmem_max = 134217728\nnet.core.wmem_max = 134217728\nnet.core.rmem_default = 65536\nnet.core.wmem_default = 65536\nnet.core.netdev_max_backlog = 5000\n"})}),"\n",(0,s.jsx)(n.h3,{id:"dds-configuration",children:"DDS Configuration"}),"\n",(0,s.jsx)(n.p,{children:"Configure DDS for optimal performance:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'\x3c!-- ros2_dds_config.xml --\x3e\n<dds>\n    <profiles xmlns="http://www.eprosima.com/XMLSchemas/fastRTPS_Profiles">\n        <transport_descriptors>\n            <transport_descriptor>\n                <transport_id>CustomUdpTransport</transport_id>\n                <type>UDPv4</type>\n                <sendBufferSize>65536</sendBufferSize>\n                <receiveBufferSize>65536</receiveBufferSize>\n            </transport_descriptor>\n        </transport_descriptors>\n\n        <participant profile_name="custom_participant" is_default_profile="true">\n            <rtps>\n                <userTransports>\n                    <transport_id>CustomUdpTransport</transport_id>\n                </userTransports>\n                <useBuiltinTransports>false</useBuiltinTransports>\n            </rtps>\n        </participant>\n    </profiles>\n</dds>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"monitoring-and-diagnostics",children:"Monitoring and Diagnostics"}),"\n",(0,s.jsx)(n.h3,{id:"system-monitoring",children:"System Monitoring"}),"\n",(0,s.jsx)(n.p,{children:"Implement monitoring for deployed systems:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:'// System monitor node\nclass SystemMonitor : public rclcpp::Node\n{\npublic:\n    SystemMonitor() : Node("system_monitor")\n    {\n        // Publishers for system metrics\n        cpu_pub_ = this->create_publisher<std_msgs::msg::Float32>("diagnostics/cpu_usage", 1);\n        memory_pub_ = this->create_publisher<std_msgs::msg::Float32>("diagnostics/memory_usage", 1);\n\n        // Timer for periodic monitoring\n        monitor_timer_ = this->create_wall_timer(\n            std::chrono::seconds(1), std::bind(&SystemMonitor::monitor_system, this));\n    }\n\nprivate:\n    void monitor_system()\n    {\n        // Monitor CPU usage\n        float cpu_usage = get_cpu_usage();\n        auto cpu_msg = std_msgs::msg::Float32();\n        cpu_msg.data = cpu_usage;\n        cpu_pub_->publish(cpu_msg);\n\n        // Monitor memory usage\n        float memory_usage = get_memory_usage();\n        auto memory_msg = std_msgs::msg::Float32();\n        memory_msg.data = memory_usage;\n        memory_pub_->publish(memory_msg);\n    }\n\n    rclcpp::Publisher<std_msgs::msg::Float32>::SharedPtr cpu_pub_;\n    rclcpp::Publisher<std_msgs::msg::Float32>::SharedPtr memory_pub_;\n    rclcpp::TimerBase::SharedPtr monitor_timer_;\n};\n'})}),"\n",(0,s.jsx)(n.h3,{id:"logging-configuration",children:"Logging Configuration"}),"\n",(0,s.jsx)(n.p,{children:"Configure logging for deployed systems:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"# config/logging_config.yaml\nlog_config:\n  version: 1\n  formatters:\n    default:\n      format: '%(asctime)s - %(name)s - %(levelname)s - %(message)s'\n  handlers:\n    file:\n      class: logging.FileHandler\n      filename: /var/log/robot/robot.log\n      formatter: default\n      level: INFO\n    console:\n      class: logging.StreamHandler\n      formatter: default\n      level: WARNING\n  loggers:\n    robot_system:\n      level: INFO\n      handlers: [file, console]\n      propagate: false\n"})}),"\n",(0,s.jsx)(n.h2,{id:"deployment-best-practices",children:"Deployment Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"version-management",children:"Version Management"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use Docker containers for consistent deployments"}),"\n",(0,s.jsx)(n.li,{children:"Tag and version all software components"}),"\n",(0,s.jsx)(n.li,{children:"Maintain separate configurations for different hardware platforms"}),"\n",(0,s.jsx)(n.li,{children:"Implement rollback mechanisms"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"testing-before-deployment",children:"Testing Before Deployment"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Simulation Testing"}),": Validate all functionality in simulation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Hardware-in-the-Loop"}),": Test with actual hardware components"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Safety Testing"}),": Verify all safety systems function correctly"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Performance Testing"}),": Ensure real-time requirements are met"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"documentation",children:"Documentation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Hardware setup procedures"}),"\n",(0,s.jsx)(n.li,{children:"Calibration procedures"}),"\n",(0,s.jsx)(n.li,{children:"Troubleshooting guides"}),"\n",(0,s.jsx)(n.li,{children:"Maintenance schedules"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.ros.org/en/rolling/Tutorials/Advanced/Integration.html",children:"ROS 2 Hardware Integration Guide"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://control.ros.org/",children:"ROS 2 Control Hardware Integration"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.ros.org/en/rolling/How-To-Guides/Real-time-with-ROS2.html",children:"Real-time ROS 2 Deployment"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://navigation.ros.org/setup_guides/index.html",children:"Robot Deployment Best Practices"})}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Previous"}),": ",(0,s.jsx)(n.a,{href:"/humanoid_robotic_book/docs/module4/deployment_arch",children:"Deployment Architectures"})," | ",(0,s.jsx)(n.strong,{children:"Next"}),": ",(0,s.jsx)(n.a,{href:"../module4/examples/",children:"Module 4 Examples"})," | ",(0,s.jsx)(n.a,{href:"../README.md",children:"Table of Contents"})]})]})}function m(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);